{"ast":null,"code":"import { Livro } from '../model/livro';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nclass ControleLivrosService {\n  constructor(http) {\n    this.http = http;\n    this.baseURL = \"http://localhost:3030/livros\";\n  }\n  obterLivros() {\n    return this.http.get(this.baseURL).pipe(map(data => data.map(livroMongo => {\n      return new Livro(livroMongo._id, livroMongo.codEditora, livroMongo.titulo, livroMongo.resumo, livroMongo.autores);\n    })));\n  }\n  incluir(livro) {\n    const livroMongo = {\n      _id: null,\n      codEditora: livro.codEditora,\n      titulo: livro.titulo,\n      resumo: livro.resumo,\n      autores: livro.autores\n    };\n    return this.http.post(this.baseURL, livroMongo, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n  excluir(codigo) {\n    return this.http.delete(`${this.baseURL}/${codigo}`);\n  }\n}\nControleLivrosService.ɵfac = function ControleLivrosService_Factory(t) {\n  return new (t || ControleLivrosService)(i0.ɵɵinject(i1.HttpClient));\n};\nControleLivrosService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ControleLivrosService,\n  factory: ControleLivrosService.ɵfac,\n  providedIn: 'root'\n});\nexport { ControleLivrosService };","map":{"version":3,"names":["Livro","map","ControleLivrosService","constructor","http","baseURL","obterLivros","get","pipe","data","livroMongo","_id","codEditora","titulo","resumo","autores","incluir","livro","post","headers","excluir","codigo","delete","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\gusta\\Desktop\\acessar-um-banco\\clientes\\livros-angular\\src\\app\\services\\controle-livros.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Livro } from '../model/livro';\nimport { map } from 'rxjs/operators';\n\ninterface LivroMongo {\n  _id: string | null;\n  codEditora: number;\n  titulo: string;\n  resumo: string;\n  autores: string[];\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ControleLivrosService {\n\n  baseURL = \"http://localhost:3030/livros\";\n\n  constructor(private http: HttpClient) { }\n\n  obterLivros() {\n    return this.http.get<LivroMongo[]>(this.baseURL)\n      .pipe(map(data => data.map((livroMongo: LivroMongo) => {\n          return new Livro(\n            livroMongo._id,\n            livroMongo.codEditora,\n            livroMongo.titulo,\n            livroMongo.resumo,\n            livroMongo.autores\n          );\n        })\n      ));\n  }\n\n  incluir(livro: Livro) {\n    const livroMongo: LivroMongo = {\n      _id: null,\n      codEditora: livro.codEditora,\n      titulo: livro.titulo,\n      resumo: livro.resumo,\n      autores: livro.autores,\n    };\n    return this.http.post(this.baseURL, livroMongo, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n\n  excluir(codigo: string) {\n    return this.http.delete(`${this.baseURL}/${codigo}`);\n  }\n}\n\n\n"],"mappings":"AAEA,SAASA,KAAK,QAAQ,gBAAgB;AACtC,SAASC,GAAG,QAAQ,gBAAgB;;;AAUpC,MAGaC,qBAAqB;EAIhCC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFxB,KAAAC,OAAO,GAAG,8BAA8B;EAEA;EAExCC,WAAWA,CAAA;IACT,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAe,IAAI,CAACF,OAAO,CAAC,CAC7CG,IAAI,CAACP,GAAG,CAACQ,IAAI,IAAIA,IAAI,CAACR,GAAG,CAAES,UAAsB,IAAI;MAClD,OAAO,IAAIV,KAAK,CACdU,UAAU,CAACC,GAAG,EACdD,UAAU,CAACE,UAAU,EACrBF,UAAU,CAACG,MAAM,EACjBH,UAAU,CAACI,MAAM,EACjBJ,UAAU,CAACK,OAAO,CACnB;IACH,CAAC,CAAC,CACH,CAAC;EACN;EAEAC,OAAOA,CAACC,KAAY;IAClB,MAAMP,UAAU,GAAe;MAC7BC,GAAG,EAAE,IAAI;MACTC,UAAU,EAAEK,KAAK,CAACL,UAAU;MAC5BC,MAAM,EAAEI,KAAK,CAACJ,MAAM;MACpBC,MAAM,EAAEG,KAAK,CAACH,MAAM;MACpBC,OAAO,EAAEE,KAAK,CAACF;KAChB;IACD,OAAO,IAAI,CAACX,IAAI,CAACc,IAAI,CAAC,IAAI,CAACb,OAAO,EAAEK,UAAU,EAAE;MAC9CS,OAAO,EAAE;QACP,cAAc,EAAE;;KAEnB,CAAC;EACJ;EAEAC,OAAOA,CAACC,MAAc;IACpB,OAAO,IAAI,CAACjB,IAAI,CAACkB,MAAM,CAAC,GAAG,IAAI,CAACjB,OAAO,IAAIgB,MAAM,EAAE,CAAC;EACtD;;AArCWnB,qBAAqB,C;mBAArBA,qBAAqB,EAAAqB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAArBxB,qBAAqB,C;SAArBA,qBAAqB;EAAAyB,OAAA,EAArBzB,qBAAqB,CAAA0B,IAAA;EAAAC,UAAA,EAFpB;AAAM;SAEP3B,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}